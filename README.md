# myhero 校内赛麦轮铲车

#### by lihaolin

## 目标开发进度

### 1/11 重整旗鼓 完成底盘驱动

### 1/12 装好其他机械结构 舵机驱动

### 1/13 调好舵机

### 1/14 整车调整 进行参数微调 练手

### 1/15 检查 练手 正式比赛

## 实际

### 我是DDL战神

## 开发中的问题

### Arduino烧了

- 现象:冒烟  异味  芯片严重发烫  vcc和gnd短路  
- 原因分析:锂电池下电早于单片机  导致单片机直接为四个电机供电  单片机供电功率过大  从而寄寄  
- 解决方案:购买新的2560  并且准备一片备用  
- 预防方案:谨记上下电顺序  时刻保护单片机  

### 电机驱动TB6612烧了 part1

- 现象:冒烟  异味  芯片严重发烫  
- 原因分析:在测试电机的时候  使用锂电池直接上电  但是插错了方向  导致锂电池直接上电6612的输出口  从而寄寄  
- 解决方案:换新  准备2片DRV8833备用  

### 电机驱动TB6612烧了 part2

- 现象:冒烟  异味  芯片严重发烫
- 原因分析:VCC应该接3.3V或者5V  但是接了12V
- 解决方案:换新

### 电机驱动TB6612损坏

- 现象:对应电机不转
- 原因不明  怀疑质量问题
- 解决方案:换新

### 右侧轮有时不动/速度慢

- 现象:右侧轮有时不动/速度慢  貌似是接触不良  但是电机电压正常  重新插线后得到缓解  打上热熔胶固定不能解决  更换驱动芯片不能解决  
- 原因分析:接触不良  芯片重力导致的掉线  走线过于混乱  怀疑可能STBY掉线  
- 解决方案:将TB6612置于小车上方  重新走线固定  对所有固定好的线缠上胶布  

### 麦轮解算发现不能左右平移

- 现象:四个麦轮前后和小陀螺运动完全正常  但是左右运动寄寄  
- 原因分析:分析的不到位  过于依赖网上教程  与一开始的硬件配置问题有关  与CSDN的混乱建系方法也有关  
- 解决方案:装车完成后重调代码  注意参考资料的来源  

### 降压模块爆炸

- 现象:一开始接锂电池冒烟  此时对芯片进行了引脚焊接操作  接充电宝恢复正常  再次接锂电池芯片炸开  
- 原因分析:现象令人迷惑  无法排除焊接的嫌疑  怀疑质量问题  
- 解决方案:购买换新  并且准备两片备用  

### 长时间对角线疯车

- 现象:对角线的两个轮子疯转  更换接线不改变对角线疯车现象  遥控器信号时好时环  总体表现信号不良  
- 原因分析:经多方提醒  最终发现和遥控器信号接受器接线接触不良有关  
- 解决方案:引出PS2遥控器接线并重新加固  

### 遥控掉线  

- 现象:无法连接  无法重启解决
- 原因分析:接线掉落
- 解决方案:重新接线  胶带封装

### 无法上传程序  

- 现象:L灯正常 RX不亮
- 原因分析1:使用的COM口错误
- 原因分析2:接线错误  Reset口被占用

### 电源短接

- 现象:锂电池冒烟
- 千万小心

### 单个电机不转

- 怀疑是驱动芯片的问题  无输出电压
- 最终发现PWM接线母头断裂  胶带封装输
- 解决方案:重新接线  

### 模式二电机乱转

- 很奇怪的bug
- 考虑手柄感应问题
- 最终发现四个按键之间有裙带关系
- 解决方案:按键逻辑重写

### 开机抽搐&长时间delay疯车&静止五分钟小型疯车

- 很奇怪的bug
- 查阅PS2库之后发现error函数导致抽搐  在9600中会有4-5次断联  还有休眠
- 别人封装的库也会有问题
- 减少上时间delay

### PS2手柄断线

- 接收器突然不正常
- 更换新的接收器
- PS2野生手柄质量堪忧

### 车不走直线

- 最终发现是驱动芯片的输出问题
- 空转情况下不明显  下地突出
- 更换新的驱动模块
- 与未使用PID控制有一定关系  但是过分歪的情况更要考虑别的问题

### 电控&机械 舵机带不动

- 怀疑是舵机扭矩不足  零件过重
- 尝试电控增加delay  多线程  模拟软线程  均失败
- 最终发现是机械固定不到位  可以使用电批钻孔
- 解决方案:使用电批钻孔  螺母固定
- 启示增加通识了解  清楚到底是谁的问题

### 机械 3D打印件过于疲软

- 现象:摇摇欲坠  晃动明显  
- 原因分析:3D打印件太薄  与机械画图存在差别  铲斗过重  
- 解决方案:加厚  重新打印  

### 机械 联轴器滑丝

- 现象:螺丝一插到底  无法固定  
- 原因分析:钉子拧进去的过程中歪了  
- 解决方案:购买换新  并且准备三个备用  

## tips

### 遇到空口尽量找根断线封住  便于后续的封装  防止相邻针脚弯曲  美观

### 保护单片机  注意外设的负载

### 尽量不要做DDL战神  调车时间短  间接导致脱困问题